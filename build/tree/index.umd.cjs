(function(s,n){typeof exports=="object"&&typeof module<"u"?n(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],n):(s=typeof globalThis<"u"?globalThis:s||self,n(s.index={},s.vue))})(this,function(s,n){"use strict";const m="u",f="_LyUI";function h(e,o,i){x(e,i),e.component(o.name,o)}function x(e,o={classPrefix:m}){e.config.globalProperties[f]={...e.config.globalProperties[f]??{},classPrefix:o.classPrefix}}const y=n.defineComponent({name:"ly-icon",props:{name:{type:String,default:""},size:{type:[String,Number],default:"inherit"},color:{type:String,default:"inherit"}},setup(e,{attrs:o}){const i=n.computed(()=>typeof e.size=="number"?`${e.size}px`:e.size),a=n.createVNode("img",n.mergeProps({src:e.name},o,{style:{width:i.value,verticalAlign:"middle"}}),null),u=n.createVNode("i",{class:["u-icon-"+e.name],style:{fontSize:i.value,color:e.color}},null),r=/http|https/.test(e.name)?a:u;return()=>r}}),N={data:{type:Object,required:!0}};function p(e=[],o=0,i=null){return o++,e.reduce((a,u)=>{const r={...u};if(r.level=o,r.parentId=i,r.children){const t=r.id,l=p(r.children,o,t);return delete r.children,a.concat(r,l)}else return r.isLeaf=!0,a.concat(r)},[])}function b(e){return{innerData:n.ref(p(n.unref(e)))}}const g=n.defineComponent({name:"UTree",props:N,setup(e,{slots:o}){const{innerData:i}=b(e.data),a=t=>{console.log("toggle:",t);const l=i.value.find(c=>c.id===t.id);l&&(l.expanded=!l.expanded)},u=n.computed(()=>{let t=[],l=[];for(let c of i.value)t.includes(c)||(c.expanded!==!0&&(t=r(c)),l.push(c));return l}),r=t=>{const l=i.value.findIndex(d=>d.id===t.id);let c=[];for(let d=l+1;d<i.value.length&&i.value[d].level>t.level;d++)c.push(i.value[d]);return c};return()=>n.createVNode("div",{class:"u-tree"},[u.value.map(t=>n.createVNode("div",{style:{paddingLeft:`${20*(t.level-1)}px`}},[t.isLeaf?n.createVNode("span",{style:{display:"inline-block",width:"24px"}},null):n.createVNode("span",{onClick:()=>a(t)},[n.createVNode(y,{name:t.expanded?"caret-bottom":"caret-right",size:14,color:"gray"},null)]),t.label]))])}}),I={install(e,o){h(e,g,o)}};s.Tree=g,s.default=I,Object.defineProperties(s,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
